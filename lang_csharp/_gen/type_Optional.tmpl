{{- $bag := . -}}
{{- $tyStr := printf "%s" $bag.Type -}}

{{- if or
        (eq $tyStr "DocumentUri" "URI")
        ($bag.Main.IsEnumTypeName $tyStr)
        ($bag.Main.IsTypeKindOfArray $bag.Type)
        ($bag.Main.IsTypeKindOfMap $bag.Type)
        ($bag.Main.IsTypeKindOfOr $bag.Type)
        ($bag.Main.IsTypeKindOfStructure $bag.Type)
  -}}
    /*TOpt*/{{- $bag.Main.DoType $bag.Type -}}
{{- else if ($bag.Main.IsTypeKindOf $bag.Type "string") -}}
    string?
{{- else if ($bag.Main.IsTypeKindOf $bag.Type "integer") -}}
    int?
{{- else if ($bag.Main.IsTypeKindOf $bag.Type "uinteger") -}}
    uint?
{{- else if ($bag.Main.IsTypeKindOf $bag.Type "decimal") -}}
    double?
{{- else if ($bag.Main.IsTypeKindOf $bag.Type "boolean") -}}
    bool?
{{- else -}}
    {{- $bag.Main.DoType $bag.Type -}}?
{{- end -}}
